@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Light theme */
    --background: #FAFAFA;
    --surface: #FFFFFF;
    --surface-raised: #FFFFFF;
    --surface-subtle: #F5F5F5;
    --surface-active: #EAEAEA;
    --surface-hover: rgba(0, 0, 0, 0.02);
    --border: #E5E5E5;
    --border-subtle: #F0F0F0;
    --border-hover: #D4D4D4;
    
    --text-primary: #171717;
    --text-secondary: #525252;
    --text-tertiary: #A3A3A3;
    --text-inverse: #FFFFFF;

    --card-task: #3B82F6;
    --card-task-bg: #EFF6FF;
    --card-task-border: #BFDBFE;
    --card-story: #22C55E;
    --card-story-bg: #F0FDF4;
    --card-story-border: #BBF7D0;
    --card-epic: #A855F7;
    --card-epic-bg: #FAF5FF;
    --card-epic-border: #E9D5FF;
    --card-utility: #6B7280;
    --card-utility-bg: #F9FAFB;
    --card-utility-border: #E5E7EB;

    --success: #22C55E;
    --warning: #F59E0B;
    --error: #EF4444;
    --info: #3B82F6;

    --board-gradient-purple: linear-gradient(135deg, #E9D5FF 0%, #C4B5FD 50%, #818CF8 100%);
    --board-gradient-yellow: linear-gradient(135deg, #FEF3C7 0%, #FCD34D 50%, #F59E0B 100%);
    --board-gradient-blue: linear-gradient(135deg, #DBEAFE 0%, #93C5FD 50%, #3B82F6 100%);
    --board-gradient-green: linear-gradient(135deg, #DCFCE7 0%, #86EFAC 50%, #22C55E 100%);
    --board-gradient-pink: linear-gradient(135deg, #FCE7F3 0%, #F9A8D4 50%, #EC4899 100%);
    --board-gradient-teal: linear-gradient(135deg, #CCFBF1 0%, #5EEAD4 50%, #0D9488 100%);
    --board-gradient-red: linear-gradient(135deg, #FEE2E2 0%, #FCA5A5 50%, #EF4444 100%);

    --grain: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E");

    /* Skin background — override per theme */
    --skin-bg: none;
    --skin-bg-overlay: transparent;
    --skin-bg-pos: center;
    --skin-bg-page-color: var(--background);
  }

  .dark {
    /* Noir dark variant */
    --background: #0A0A0F;
    --surface: #12121A;
    --surface-raised: #22222E;
    --surface-subtle: #171722;
    --surface-active: #1A1A26;
    --surface-hover: rgba(255, 255, 255, 0.04);
    --border: rgba(255, 255, 255, 0.10);
    --border-subtle: rgba(255, 255, 255, 0.06);
    --border-hover: rgba(255, 255, 255, 0.16);
    
    --text-primary: #F0ECE4;
    --text-secondary: #A8A3B2;
    --text-tertiary: #7A7488;
    --text-inverse: #0A0A0F;

    --card-task: #4488FF;
    --card-task-bg: rgba(68, 136, 255, 0.10);
    --card-task-border: rgba(68, 136, 255, 0.28);
    --card-story: #00D4AA;
    --card-story-bg: rgba(0, 212, 170, 0.10);
    --card-story-border: rgba(0, 212, 170, 0.28);
    --card-epic: #9966FF;
    --card-epic-bg: rgba(153, 102, 255, 0.10);
    --card-epic-border: rgba(153, 102, 255, 0.28);
    --card-utility: #8A8694;
    --card-utility-bg: rgba(138, 134, 148, 0.12);
    --card-utility-border: rgba(138, 134, 148, 0.30);

    --success: #00D4AA;
    --warning: #FFAA00;
    --error: #FF3366;
    --info: #4488FF;

    --board-gradient-purple: linear-gradient(135deg, #2E1065 0%, #4C1D95 50%, #7C3AED 100%);
    --board-gradient-yellow: linear-gradient(135deg, #422006 0%, #713F12 50%, #CA8A04 100%);
    --board-gradient-blue: linear-gradient(135deg, #172554 0%, #1E3A8A 50%, #2563EB 100%);
    --board-gradient-green: linear-gradient(135deg, #052E16 0%, #14532D 50%, #16A34A 100%);
    --board-gradient-pink: linear-gradient(135deg, #500724 0%, #831843 50%, #DB2777 100%);
    --board-gradient-teal: linear-gradient(135deg, #042F2E 0%, #115E59 50%, #0F766E 100%);
    --board-gradient-red: linear-gradient(135deg, #450A0A 0%, #7F1D1D 50%, #DC2626 100%);
  }

  .slate {
    /* Slate dark variant: brighter surfaces, softer contrast */
    --background: #151922;
    --surface: #1C2230;
    --surface-raised: #272F42;
    --surface-subtle: #222A3A;
    --surface-active: #2A3348;
    --surface-hover: rgba(255, 255, 255, 0.05);
    --border: rgba(255, 255, 255, 0.12);
    --border-subtle: rgba(255, 255, 255, 0.08);
    --border-hover: rgba(255, 255, 255, 0.18);

    --text-primary: #E9E7E2;
    --text-secondary: #B8B4C0;
    --text-tertiary: #938EA0;
    --text-inverse: #151922;

    --card-task: #5A97F8;
    --card-task-bg: rgba(90, 151, 248, 0.12);
    --card-task-border: rgba(90, 151, 248, 0.26);
    --card-story: #2ECBB2;
    --card-story-bg: rgba(46, 203, 178, 0.12);
    --card-story-border: rgba(46, 203, 178, 0.26);
    --card-epic: #A985F8;
    --card-epic-bg: rgba(169, 133, 248, 0.12);
    --card-epic-border: rgba(169, 133, 248, 0.26);
    --card-utility: #9A96A6;
    --card-utility-bg: rgba(154, 150, 166, 0.14);
    --card-utility-border: rgba(154, 150, 166, 0.28);

    --success: #2ECBB2;
    --warning: #F3B24B;
    --error: #F25C84;
    --info: #5A97F8;

    --board-gradient-purple: linear-gradient(135deg, #312E81 0%, #6D28D9 50%, #8B5CF6 100%);
    --board-gradient-yellow: linear-gradient(135deg, #78350F 0%, #B45309 50%, #F59E0B 100%);
    --board-gradient-blue: linear-gradient(135deg, #1E3A8A 0%, #2563EB 50%, #60A5FA 100%);
    --board-gradient-green: linear-gradient(135deg, #14532D 0%, #16A34A 50%, #4ADE80 100%);
    --board-gradient-pink: linear-gradient(135deg, #831843 0%, #BE185D 50%, #F472B6 100%);
    --board-gradient-teal: linear-gradient(135deg, #134E4A 0%, #0F766E 50%, #2DD4BF 100%);
    --board-gradient-red: linear-gradient(135deg, #7F1D1D 0%, #B91C1C 50%, #F87171 100%);
  }

  .douala {
    /* Douala: retro anime - deep navy, bold red, warm gold */
    --background: #0C1835;
    --surface: #132350;
    --surface-raised: #1A2D5E;
    --surface-subtle: #0F1C3D;
    --surface-active: #1E3670;
    --surface-hover: rgba(255, 215, 0, 0.07);
    --border: rgba(255, 215, 0, 0.16);
    --border-subtle: rgba(255, 215, 0, 0.09);
    --border-hover: rgba(255, 215, 0, 0.28);

    --text-primary: #FFF8E7;
    --text-secondary: #C8B88E;
    --text-tertiary: #8E825E;
    --text-inverse: #0C1835;

    --card-task: #4A90FF;
    --card-task-bg: rgba(74, 144, 255, 0.12);
    --card-task-border: rgba(74, 144, 255, 0.30);
    --card-story: #2ECE70;
    --card-story-bg: rgba(46, 206, 112, 0.12);
    --card-story-border: rgba(46, 206, 112, 0.28);
    --card-epic: #B86EFF;
    --card-epic-bg: rgba(184, 110, 255, 0.12);
    --card-epic-border: rgba(184, 110, 255, 0.28);
    --card-utility: #9A8E70;
    --card-utility-bg: rgba(154, 142, 112, 0.14);
    --card-utility-border: rgba(154, 142, 112, 0.30);

    --success: #2ECE70;
    --warning: #FFB020;
    --error: #DC2020;
    --info: #4A90FF;

    --board-gradient-purple: linear-gradient(135deg, #1A0A3E 0%, #4A1A8A 50%, #7C3AED 100%);
    --board-gradient-yellow: linear-gradient(135deg, #3D2A00 0%, #8A6A14 50%, #FFB020 100%);
    --board-gradient-blue: linear-gradient(135deg, #0A1A4D 0%, #1A3A8A 50%, #3B6AEB 100%);
    --board-gradient-green: linear-gradient(135deg, #0A2A16 0%, #14532D 50%, #22A34A 100%);
    --board-gradient-pink: linear-gradient(135deg, #3D0A24 0%, #831843 50%, #DB2777 100%);
    --board-gradient-teal: linear-gradient(135deg, #0A2F2E 0%, #115E59 50%, #0F766E 100%);
    --board-gradient-red: linear-gradient(135deg, #3D0A0A 0%, #8A1A1A 50%, #DC2626 100%);

    --grain: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
  }

  .colordore {
    /* Colordore: high-contrast red/blue/yellow arcade palette */
    --background: #EF3438;
    --surface: #F8F8F5;
    --surface-raised: #FFFFFF;
    --surface-subtle: #F2EA2E;
    --surface-active: #FFF68A;
    --surface-hover: rgba(45, 62, 201, 0.12);
    --border: #05070D;
    --border-subtle: #1A2AA0;
    --border-hover: #05070D;

    --text-primary: #05070D;
    --text-secondary: #1E2EA4;
    --text-tertiary: #4858CC;
    --text-inverse: #F8F8F5;

    --card-task: #1E2EA4;
    --card-task-bg: #DCE5FF;
    --card-task-border: #05070D;
    --card-story: #1BAF45;
    --card-story-bg: #D9FFE3;
    --card-story-border: #05070D;
    --card-epic: #F2EA2E;
    --card-epic-bg: #FFF9B7;
    --card-epic-border: #05070D;
    --card-utility: #05070D;
    --card-utility-bg: #E8EAF7;
    --card-utility-border: #05070D;

    --success: #1BAF45;
    --warning: #F2EA2E;
    --error: #F02A2E;
    --info: #1E2EA4;

    --board-gradient-purple: linear-gradient(135deg, #6B75FF 0%, #2D3EC9 56%, #101D8C 100%);
    --board-gradient-yellow: linear-gradient(135deg, #FFF68A 0%, #F2EA2E 56%, #C9B500 100%);
    --board-gradient-blue: linear-gradient(135deg, #8A98FF 0%, #3A4FE3 56%, #1A2AA0 100%);
    --board-gradient-green: linear-gradient(135deg, #A4F7B7 0%, #39D166 56%, #0F7B33 100%);
    --board-gradient-pink: linear-gradient(135deg, #FFB0BE 0%, #FF6C84 56%, #E12D4E 100%);
    --board-gradient-teal: linear-gradient(135deg, #9EFFF4 0%, #36DEC9 56%, #0A8078 100%);
    --board-gradient-red: linear-gradient(135deg, #FFA1A4 0%, #EF3438 56%, #B71419 100%);

    --grain: repeating-linear-gradient(
      0deg,
      rgba(5, 7, 13, 0.07) 0px,
      rgba(5, 7, 13, 0.07) 1px,
      transparent 1px,
      transparent 3px
    );
  }

  .pc98 {
    /* PC-98: vivid late-80s/early-90s blue-magenta console UI */
    --background: #123B8F;
    --surface: #FFF8FF;
    --surface-raised: #FFFFFF;
    --surface-subtle: #FFE0F2;
    --surface-active: #FFC2E8;
    --surface-hover: rgba(255, 112, 184, 0.16);
    --border: #0A1D66;
    --border-subtle: #1B3299;
    --border-hover: #E65EAA;

    --text-primary: #061E6F;
    --text-secondary: #2A45A8;
    --text-tertiary: #7256A9;
    --text-inverse: #FFF8FF;

    --card-task: #1C55CF;
    --card-task-bg: #DCE8FF;
    --card-task-border: #0A1D66;
    --card-story: #31C990;
    --card-story-bg: #D8FCEA;
    --card-story-border: #0A1D66;
    --card-epic: #E15BA7;
    --card-epic-bg: #FFD6EF;
    --card-epic-border: #0A1D66;
    --card-utility: #0A1D66;
    --card-utility-bg: #E6E9FF;
    --card-utility-border: #0A1D66;

    --success: #28C789;
    --warning: #FFD15A;
    --error: #FF4E7D;
    --info: #2480E3;

    --board-gradient-purple: linear-gradient(135deg, #6D5DF7 0%, #3A3CCB 52%, #1C237F 100%);
    --board-gradient-yellow: linear-gradient(135deg, #FFE68A 0%, #FFD15A 52%, #D8A400 100%);
    --board-gradient-blue: linear-gradient(135deg, #8CCBFF 0%, #2D7EEA 52%, #1442A5 100%);
    --board-gradient-green: linear-gradient(135deg, #A7FFD5 0%, #3ED79D 52%, #168257 100%);
    --board-gradient-pink: linear-gradient(135deg, #FFC0E6 0%, #FF7BC5 52%, #D53D93 100%);
    --board-gradient-teal: linear-gradient(135deg, #ABFCFF 0%, #4DD8E7 52%, #178A9E 100%);
    --board-gradient-red: linear-gradient(135deg, #FFB1C8 0%, #FF5A89 52%, #C5194C 100%);

    --grain: repeating-linear-gradient(
      45deg,
      rgba(8, 25, 92, 0.08) 0px,
      rgba(8, 25, 92, 0.08) 1px,
      transparent 1px,
      transparent 4px
    );
  }

  .sparkle {
    /* Sparkle: glossy pink UI with pastel rainbow accents */
    --background: #FFD6EA;
    --surface: #FFE9F4;
    --surface-raised: #FFF4FA;
    --surface-subtle: #FFDCEB;
    --surface-active: #FFC8E2;
    --surface-hover: rgba(255, 92, 166, 0.12);
    --border: #F5A5CC;
    --border-subtle: #FBC8DF;
    --border-hover: #EC7BB5;

    --text-primary: #5A2140;
    --text-secondary: #874A67;
    --text-tertiary: #B97A98;
    --text-inverse: #FFF6FB;

    --card-task: #59A7FF;
    --card-task-bg: rgba(89, 167, 255, 0.16);
    --card-task-border: rgba(89, 167, 255, 0.35);
    --card-story: #38D29F;
    --card-story-bg: rgba(56, 210, 159, 0.15);
    --card-story-border: rgba(56, 210, 159, 0.34);
    --card-epic: #E45CC6;
    --card-epic-bg: rgba(228, 92, 198, 0.16);
    --card-epic-border: rgba(228, 92, 198, 0.36);
    --card-utility: #9A7390;
    --card-utility-bg: rgba(154, 115, 144, 0.15);
    --card-utility-border: rgba(154, 115, 144, 0.3);

    --success: #36C68D;
    --warning: #F6A447;
    --error: #F04E89;
    --info: #5F8FFF;

    --board-gradient-purple: linear-gradient(135deg, #F4C8FF 0%, #E6B8FF 45%, #B5A8FF 100%);
    --board-gradient-yellow: linear-gradient(135deg, #FFE9A8 0%, #FFD083 45%, #FFB36B 100%);
    --board-gradient-blue: linear-gradient(135deg, #BFE9FF 0%, #9FD5FF 45%, #78C0FF 100%);
    --board-gradient-green: linear-gradient(135deg, #CBF9DF 0%, #A8F0CB 45%, #7EE6B4 100%);
    --board-gradient-pink: linear-gradient(135deg, #FFD9EE 0%, #FFB8DE 45%, #FF8DC5 100%);
    --board-gradient-teal: linear-gradient(135deg, #C5F8F0 0%, #9AEFDF 45%, #64E5CE 100%);
    --board-gradient-red: linear-gradient(135deg, #FFD1DC 0%, #FFB0C5 45%, #FF88AD 100%);
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-text-primary;
    font-family: var(--skin-font-family, inherit);
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--skin-font-heading, inherit);
  }

  .dark body::before,
  .slate body::before,
  .douala body::before,
  .colordore body::before,
  .pc98 body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: var(--grain);
    pointer-events: none;
    z-index: 1000;
  }

  .sparkle body {
    font-family: var(--skin-font-family, "Trebuchet MS", "Verdana", "Tahoma", sans-serif);
  }
}

@layer components {
  /* Douala skin - retro anime, deep navy + bold red + warm gold */
  .douala {
    --douala-gold: #FFD700;
    --douala-gold-bright: #FFE234;
    --douala-gold-dim: #C4A030;
    --douala-red: #E52828;
    --douala-red-bright: #FF3B3B;
    --douala-cream: #FFF8E7;
    --douala-navy: #0B1631;
    --douala-navy-mid: #162B5C;
    --douala-blue-vivid: #1E3F8E;
    --douala-accent-shadow: rgba(255, 215, 0, 0.12);
  }

  .douala body {
    font-family: var(--skin-font-family, "Segoe UI", "Inter", "Roboto", sans-serif);
  }

  .douala h1,
  .douala h2,
  .douala h3,
  .douala h4,
  .douala h5,
  .douala h6 {
    font-family: var(--skin-font-heading, "Impact", "Arial Narrow", "Helvetica Neue", sans-serif);
    letter-spacing: 0.03em;
  }

  .douala h1 { font-size: 2.25rem; line-height: 1.15; }
  .douala h2 { font-size: 1.625rem; line-height: 1.2; }
  .douala h3 { font-size: 1.25rem; line-height: 1.25; }

  .douala header {
    position: relative;
    overflow: hidden;
    background:
      linear-gradient(
        180deg,
        rgba(30, 63, 142, 0.95) 0%,
        rgba(22, 43, 92, 0.98) 40%,
        rgba(11, 22, 49, 1) 100%
      );
    border-bottom-color: rgba(255, 215, 0, 0.35);
    box-shadow:
      inset 0 1px 0 rgba(255, 215, 0, 0.18),
      inset 0 -1px 0 rgba(255, 215, 0, 0.12),
      0 3px 12px rgba(0, 0, 0, 0.5);
  }

  .douala .global-top-header::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: 5px;
    pointer-events: none;
    z-index: 1;
    background:
      linear-gradient(
        180deg,
        #E52828 0%,
        #E52828 33%,
        rgba(255, 255, 255, 0.85) 33%,
        rgba(255, 255, 255, 0.85) 66%,
        #FFD700 66%,
        #FFD700 100%
      );
  }

  .douala header > * {
    position: relative;
    z-index: 2;
  }

  .douala nav a {
    border: 1px solid rgba(255, 215, 0, 0.18);
    border-radius: 6px;
    background: rgba(255, 215, 0, 0.06);
    transition: all 0.15s ease;
  }

  .douala nav a:hover {
    border-color: rgba(255, 215, 0, 0.35);
    background: rgba(255, 215, 0, 0.13);
  }

  .douala nav a.bg-primary\/10 {
    border-color: rgba(255, 215, 0, 0.45);
    background: linear-gradient(180deg, rgba(255, 215, 0, 0.16), rgba(255, 215, 0, 0.08));
    box-shadow: 0 0 14px rgba(255, 215, 0, 0.10);
  }

  .douala button,
  .douala [role='button'],
  .douala [role='combobox'],
  .douala input,
  .douala textarea {
    border-color: rgba(255, 215, 0, 0.20);
    box-shadow:
      inset 0 1px 0 rgba(255, 215, 0, 0.06),
      0 1px 2px rgba(0, 0, 0, 0.3);
  }

  .douala button:not([class*='bg-']),
  .douala [role='button']:not([class*='bg-']),
  .douala [role='combobox']:not([class*='bg-']) {
    background:
      linear-gradient(180deg, rgba(30, 63, 142, 0.8), rgba(18, 32, 68, 0.95));
  }

  .douala button:not([class*='bg-']):hover,
  .douala [role='button']:not([class*='bg-']):hover,
  .douala [role='combobox']:not([class*='bg-']):hover {
    background:
      linear-gradient(180deg, rgba(38, 75, 160, 0.9), rgba(22, 43, 92, 1));
    border-color: rgba(255, 215, 0, 0.35);
  }

  .douala input,
  .douala textarea {
    background: rgba(11, 22, 49, 0.6);
  }

  .douala input:focus,
  .douala textarea:focus {
    border-color: rgba(255, 215, 0, 0.50);
    box-shadow: 0 0 0 2px rgba(255, 215, 0, 0.14);
  }

  .douala .card-base {
    border-color: rgba(255, 215, 0, 0.14);
    background: linear-gradient(180deg, rgba(30, 63, 142, 0.55), rgba(18, 32, 68, 0.85));
    box-shadow:
      inset 0 1px 0 rgba(255, 215, 0, 0.06),
      0 2px 6px rgba(0, 0, 0, 0.3);
  }

  .douala .card-base:hover {
    border-color: rgba(255, 215, 0, 0.28);
    box-shadow:
      inset 0 1px 0 rgba(255, 215, 0, 0.10),
      0 4px 14px rgba(0, 0, 0, 0.4);
  }

  .douala .badge {
    border: 1px solid rgba(255, 215, 0, 0.20);
    background: linear-gradient(180deg, rgba(30, 63, 142, 0.5) 0%, rgba(18, 32, 68, 0.7) 100%);
    box-shadow: inset 0 1px 0 rgba(255, 215, 0, 0.06);
  }

  .douala [data-radix-popper-content-wrapper] > * {
    border-color: rgba(255, 215, 0, 0.25);
    background: linear-gradient(180deg, #162B5C, #122044);
    box-shadow:
      inset 0 1px 0 rgba(255, 215, 0, 0.10),
      0 10px 28px rgba(0, 0, 0, 0.55);
  }

  .douala [data-radix-popper-content-wrapper] [role='menuitemradio'][data-highlighted],
  .douala [data-radix-popper-content-wrapper] [role='menuitem'][data-highlighted],
  .douala [data-radix-popper-content-wrapper] [role='option'][data-highlighted] {
    background: rgba(255, 215, 0, 0.14);
    color: var(--douala-cream);
  }

  .douala .ui-dialog-content {
    border-color: rgba(255, 215, 0, 0.25);
    background: linear-gradient(180deg, #162B5C, #122044);
    box-shadow:
      inset 0 1px 0 rgba(255, 215, 0, 0.10),
      0 22px 50px rgba(0, 0, 0, 0.55);
  }

  .douala .sparkle-icon-chip {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 18px;
    height: 18px;
    border-radius: 4px;
    border: 1px solid rgba(255, 215, 0, 0.28);
    background: linear-gradient(135deg, rgba(255, 215, 0, 0.14), rgba(229, 40, 40, 0.08));
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  }

  .douala .sparkle-icon-glyph {
    color: var(--douala-gold);
    stroke-width: 2;
    filter: drop-shadow(0 0 2px rgba(255, 215, 0, 0.35));
  }

  .douala button .sparkle-icon-glyph,
  .douala [role='button'] .sparkle-icon-glyph {
    color: var(--douala-gold-dim);
  }

  .douala main {
    background-image:
      radial-gradient(ellipse at 20% 10%, rgba(30, 63, 142, 0.25) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 80%, rgba(30, 63, 142, 0.15) 0%, transparent 50%);
  }

  /* Colordore skin: colorful high-contrast retro desktop */
  .colordore {
    --colordore-red: #EF3438;
    --colordore-blue: #2D3EC9;
    --colordore-blue-deep: #141F8D;
    --colordore-yellow: #F2EA2E;
    --colordore-white: #F8F8F5;
    --colordore-black: #05070D;
  }

  .colordore body {
    font-family: var(--skin-font-family, "Lucida Console", "Courier New", monospace);
    font-size: 17px;
    letter-spacing: 0.01em;
  }

  .colordore h1,
  .colordore h2,
  .colordore h3,
  .colordore h4,
  .colordore h5,
  .colordore h6 {
    font-family: var(--skin-font-heading, "Impact", "Arial Narrow", "Helvetica Neue", sans-serif);
    letter-spacing: 0.045em;
    text-transform: uppercase;
  }

  .colordore h1 { font-size: 2.5rem; line-height: 1.05; }
  .colordore h2 { font-size: 2rem; line-height: 1.08; }
  .colordore h3 { font-size: 1.55rem; line-height: 1.12; }

  .colordore .text-display {
    font-size: 2.15rem;
    line-height: 1.05;
    font-weight: 700;
    letter-spacing: 0.03em;
  }

  .colordore .text-heading {
    font-size: 1.55rem;
    line-height: 1.08;
    font-weight: 700;
    letter-spacing: 0.03em;
    text-transform: uppercase;
  }

  .colordore .text-title {
    font-size: 1.2rem;
    line-height: 1.14;
    font-weight: 700;
    letter-spacing: 0.02em;
  }

  .colordore .text-body {
    font-size: 1.03rem;
    line-height: 1.34;
    font-weight: 600;
  }

  .colordore .text-caption {
    font-size: 0.9rem;
    line-height: 1.25;
    font-weight: 600;
  }

  .colordore .text-tiny {
    font-size: 0.78rem;
    line-height: 1.16;
    font-weight: 700;
  }

  .colordore .global-top-header {
    position: relative;
    overflow: hidden;
    padding: 0.7rem 0.85rem;
    border-bottom: 4px solid var(--colordore-black);
    background:
      linear-gradient(
        90deg,
        var(--colordore-blue) 0%,
        var(--colordore-blue) 41%,
        var(--colordore-black) 41%,
        var(--colordore-black) 59%,
        var(--colordore-blue) 59%,
        var(--colordore-blue) 100%
      );
    box-shadow:
      inset 0 2px 0 rgba(248, 248, 245, 0.28),
      0 4px 0 var(--colordore-black);
  }

  .colordore .global-top-header::before {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    opacity: 0.35;
    background:
      repeating-linear-gradient(
        90deg,
        rgba(248, 248, 245, 0.16) 0px,
        rgba(248, 248, 245, 0.16) 2px,
        transparent 2px,
        transparent 4px
      );
  }

  .colordore .global-top-header::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: 8px;
    pointer-events: none;
    z-index: 1;
    background:
      linear-gradient(
        90deg,
        var(--colordore-yellow) 0%,
        var(--colordore-yellow) 78%,
        var(--colordore-black) 78%,
        var(--colordore-black) 100%
      );
  }

  .colordore header > * {
    position: relative;
    z-index: 2;
  }

  .colordore .global-top-header .text-text-secondary {
    color: var(--colordore-white);
    font-weight: 700;
    letter-spacing: 0.02em;
  }

  .colordore nav a {
    border: 2px solid var(--colordore-black);
    border-radius: 0;
    background: linear-gradient(180deg, #4A5DE7, var(--colordore-blue));
    color: var(--colordore-white);
    box-shadow: 2px 2px 0 var(--colordore-black);
    transition: transform 0.08s ease, box-shadow 0.08s ease;
    text-transform: uppercase;
    letter-spacing: 0.035em;
    font-size: 0.88rem;
    font-weight: 700;
    min-height: 2.4rem;
  }

  .colordore nav a:hover {
    background: linear-gradient(180deg, #5A6EF6, #2F42D4);
    box-shadow: 3px 3px 0 var(--colordore-black);
    transform: translate(-1px, -1px);
  }

  .colordore nav a.bg-primary\/10 {
    background: linear-gradient(180deg, #FFF68A, var(--colordore-yellow));
    border-color: var(--colordore-black);
    color: var(--colordore-black);
    box-shadow: 2px 2px 0 var(--colordore-black);
  }

  .colordore .sparkle-icon-chip {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    border-radius: 0;
    border: 2px solid var(--colordore-black);
    background: var(--colordore-white);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.9);
  }

  .colordore .sparkle-icon-glyph {
    color: var(--colordore-blue-deep);
    stroke-width: 2.4;
  }

  .colordore nav a.bg-primary\/10 .sparkle-icon-glyph {
    color: var(--colordore-black);
  }

  .colordore button:not([role='switch']),
  .colordore [role='button'],
  .colordore [role='combobox'],
  .colordore input,
  .colordore textarea {
    border-width: 2px;
    border-color: var(--colordore-black);
    border-radius: 0;
    min-height: 2.5rem;
    font-size: 0.95rem;
    font-weight: 700;
    letter-spacing: 0.02em;
  }

  .colordore button:not([class*='bg-']):not([role='switch']),
  .colordore [role='button']:not([class*='bg-']),
  .colordore [role='combobox']:not([class*='bg-']) {
    background: linear-gradient(180deg, #FFFFFF 0%, #E5E9FF 100%);
    color: var(--colordore-black);
    box-shadow: 2px 2px 0 var(--colordore-black);
  }

  .colordore button:not([class*='bg-']):not([role='switch']):hover,
  .colordore [role='button']:not([class*='bg-']):hover,
  .colordore [role='combobox']:not([class*='bg-']):hover {
    background: linear-gradient(180deg, #FFFDE7 0%, #F5F0AF 100%);
    box-shadow: 3px 3px 0 var(--colordore-black);
    transform: translate(-1px, -1px);
  }

  .colordore button:not([class*='bg-']):not([role='switch']):active,
  .colordore [role='button']:not([class*='bg-']):active,
  .colordore [role='combobox']:not([class*='bg-'])[data-state='open'] {
    box-shadow: 1px 1px 0 var(--colordore-black);
    transform: translate(1px, 1px);
  }

  .colordore input,
  .colordore textarea {
    background: #FFFFFF;
    color: var(--colordore-black);
    box-shadow:
      inset 1px 1px 0 rgba(0, 0, 0, 0.16),
      inset -1px -1px 0 rgba(46, 62, 204, 0.3);
  }

  .colordore input:focus,
  .colordore textarea:focus {
    border-color: var(--colordore-black);
    box-shadow:
      inset 1px 1px 0 rgba(0, 0, 0, 0.16),
      inset -1px -1px 0 rgba(46, 62, 204, 0.3),
      0 0 0 2px rgba(242, 234, 46, 0.9);
  }

  .colordore .card-base {
    border: 3px solid var(--colordore-black);
    border-radius: 0;
    padding: 0.85rem;
    background: linear-gradient(180deg, #FFFFFF 0%, #E6EAFF 100%);
    box-shadow: 4px 4px 0 var(--colordore-black);
  }

  .colordore .card-base:hover {
    background: linear-gradient(180deg, #FFFCD3 0%, #FFF68A 100%);
  }

  .colordore .badge {
    border: 2px solid var(--colordore-black);
    border-radius: 0;
    background: linear-gradient(180deg, #FFF68A 0%, var(--colordore-yellow) 100%);
    color: var(--colordore-black);
    font-weight: 700;
    letter-spacing: 0.03em;
    text-transform: uppercase;
  }

  .colordore [data-radix-popper-content-wrapper] > * {
    border: 3px solid var(--colordore-black);
    border-radius: 0;
    background: linear-gradient(180deg, #FFFFFF 0%, #DDE3FF 100%);
    box-shadow: 6px 6px 0 var(--colordore-black);
  }

  .colordore [data-radix-popper-content-wrapper] [role='menuitemradio'][data-highlighted],
  .colordore [data-radix-popper-content-wrapper] [role='menuitem'][data-highlighted],
  .colordore [data-radix-popper-content-wrapper] [role='option'][data-highlighted] {
    background: linear-gradient(180deg, #FFF68A 0%, var(--colordore-yellow) 100%);
    color: var(--colordore-black);
  }

  .colordore .ui-dialog-content {
    border: 3px solid var(--colordore-black);
    border-radius: 0;
    background: linear-gradient(180deg, #FFFFFF 0%, #E8ECFF 100%);
    box-shadow: 8px 8px 0 var(--colordore-black);
  }

  .colordore main {
    position: relative;
    background:
      linear-gradient(180deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0) 22%),
      linear-gradient(
        180deg,
        var(--colordore-red) 0%,
        var(--colordore-red) 89%,
        var(--colordore-blue) 89%,
        var(--colordore-blue) 91%,
        #19C252 91%,
        #19C252 100%
      );
  }

  .colordore main::before {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    height: 8px;
    pointer-events: none;
    background:
      repeating-linear-gradient(
        90deg,
        var(--colordore-yellow) 0px,
        var(--colordore-yellow) 36px,
        var(--colordore-black) 36px,
        var(--colordore-black) 38px
      );
    opacity: 0.8;
  }

  .colordore main > * {
    position: relative;
    z-index: 1;
  }

  /* PC-98 skin: blue-magenta arcade console chrome */
  .pc98 {
    --pc98-blue-dark: #0A1C74;
    --pc98-blue-mid: #1C45B6;
    --pc98-blue-bright: #2693E9;
    --pc98-pink: #FF85CA;
    --pc98-pink-deep: #D74C9C;
    --pc98-cyan: #7DEAFF;
    --pc98-white: #FFF8FF;
    --pc98-black: #081247;
  }

  .pc98 body {
    font-family: var(--skin-font-family, "MS PGothic", "Yu Gothic UI", "Segoe UI", sans-serif);
    font-size: 16px;
    letter-spacing: 0.01em;
  }

  .pc98 h1,
  .pc98 h2,
  .pc98 h3,
  .pc98 h4,
  .pc98 h5,
  .pc98 h6 {
    font-family: var(--skin-font-heading, "Impact", "Arial Narrow", "Trebuchet MS", sans-serif);
    letter-spacing: 0.04em;
    text-transform: uppercase;
  }

  .pc98 h1 { font-size: 2.35rem; line-height: 1.06; }
  .pc98 h2 { font-size: 1.9rem; line-height: 1.1; }
  .pc98 h3 { font-size: 1.45rem; line-height: 1.15; }

  .pc98 .text-display {
    font-size: 2rem;
    line-height: 1.05;
    font-weight: 700;
    letter-spacing: 0.03em;
  }

  .pc98 .text-heading {
    font-size: 1.45rem;
    line-height: 1.1;
    font-weight: 700;
    letter-spacing: 0.03em;
    text-transform: uppercase;
  }

  .pc98 .text-title {
    font-size: 1.12rem;
    line-height: 1.16;
    font-weight: 700;
    letter-spacing: 0.02em;
  }

  .pc98 .text-body {
    font-size: 1rem;
    line-height: 1.34;
    font-weight: 600;
  }

  .pc98 .text-caption {
    font-size: 0.88rem;
    line-height: 1.24;
    font-weight: 600;
  }

  .pc98 .text-tiny {
    font-size: 0.76rem;
    line-height: 1.15;
    font-weight: 700;
  }

  .pc98 .global-top-header {
    position: relative;
    overflow: hidden;
    padding: 0.68rem 0.9rem;
    border-bottom: 4px solid var(--pc98-black);
    background:
      linear-gradient(
        90deg,
        #55137F 0%,
        #2A289B 34%,
        #1B3FAF 68%,
        #1364B8 100%
      );
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.42),
      inset 0 -2px 0 rgba(255, 123, 193, 0.42),
      0 4px 0 var(--pc98-black);
  }

  .pc98 .global-top-header::before {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    opacity: 0.35;
    background:
      repeating-linear-gradient(
        0deg,
        rgba(255, 255, 255, 0.14) 0px,
        rgba(255, 255, 255, 0.14) 1px,
        transparent 1px,
        transparent 4px
      );
  }

  .pc98 .global-top-header::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: 8px;
    pointer-events: none;
    z-index: 1;
    background:
      linear-gradient(
        90deg,
        var(--pc98-pink) 0%,
        #FFB0DB 33%,
        var(--pc98-cyan) 33%,
        #A4F2FF 66%,
        var(--pc98-pink) 66%,
        var(--pc98-pink) 100%
      );
  }

  .pc98 header > * {
    position: relative;
    z-index: 2;
  }

  .pc98 .global-top-header .text-text-secondary {
    color: var(--pc98-white);
    font-weight: 700;
    letter-spacing: 0.02em;
  }

  .pc98 nav a {
    border: 2px solid #9CD2FF;
    border-radius: 2px;
    background: linear-gradient(180deg, #3A67E1 0%, #1A3395 100%);
    color: var(--pc98-white);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.42),
      2px 2px 0 var(--pc98-black);
    transition: transform 0.08s ease, box-shadow 0.08s ease;
    text-transform: uppercase;
    letter-spacing: 0.03em;
    font-size: 0.86rem;
    font-weight: 700;
    min-height: 2.35rem;
  }

  .pc98 nav a:hover {
    background: linear-gradient(180deg, #5585F2 0%, #263FB8 100%);
    border-color: #BDE4FF;
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.48),
      3px 3px 0 var(--pc98-black);
    transform: translate(-1px, -1px);
  }

  .pc98 nav a.bg-primary\/10 {
    background: linear-gradient(180deg, #FFD0EB 0%, #FF8ECD 100%);
    border-color: #FFE6F5;
    color: var(--pc98-black);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.72),
      2px 2px 0 var(--pc98-black);
  }

  .pc98 .sparkle-icon-chip {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    border-radius: 2px;
    border: 2px solid var(--pc98-black);
    background: linear-gradient(180deg, #FFFFFF 0%, #D9ECFF 100%);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.94);
  }

  .pc98 .sparkle-icon-glyph {
    color: var(--pc98-blue-dark);
    stroke-width: 2.4;
  }

  .pc98 nav a.bg-primary\/10 .sparkle-icon-glyph {
    color: #781A5D;
  }

  .pc98 button:not([role='switch']),
  .pc98 [role='button'],
  .pc98 [role='combobox'],
  .pc98 input,
  .pc98 textarea {
    border-width: 2px;
    border-color: var(--pc98-black);
    border-radius: 2px;
    min-height: 2.45rem;
    font-size: 0.93rem;
    font-weight: 700;
    letter-spacing: 0.018em;
  }

  .pc98 button:not([class*='bg-']):not([role='switch']),
  .pc98 [role='button']:not([class*='bg-']),
  .pc98 [role='combobox']:not([class*='bg-']) {
    background:
      linear-gradient(180deg, rgba(255, 255, 255, 0.82), rgba(255, 255, 255, 0)),
      linear-gradient(180deg, #FCE8F7 0%, #CFE3FF 100%);
    color: var(--pc98-black);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.9),
      2px 2px 0 var(--pc98-black);
  }

  .pc98 button:not([class*='bg-']):not([role='switch']):hover,
  .pc98 [role='button']:not([class*='bg-']):hover,
  .pc98 [role='combobox']:not([class*='bg-']):hover {
    background:
      linear-gradient(180deg, rgba(255, 255, 255, 0.62), rgba(255, 255, 255, 0)),
      linear-gradient(180deg, #FFE2F3 0%, #BAE1FF 100%);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.95),
      3px 3px 0 var(--pc98-black);
    transform: translate(-1px, -1px);
  }

  .pc98 button:not([class*='bg-']):not([role='switch']):active,
  .pc98 [role='button']:not([class*='bg-']):active,
  .pc98 [role='combobox']:not([class*='bg-'])[data-state='open'] {
    box-shadow:
      inset 0 2px 4px rgba(9, 24, 87, 0.24),
      1px 1px 0 var(--pc98-black);
    transform: translate(1px, 1px);
  }

  .pc98 input,
  .pc98 textarea {
    background:
      linear-gradient(180deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0)),
      linear-gradient(180deg, #FFFFFF 0%, #E6EEFF 100%);
    color: var(--pc98-black);
    box-shadow:
      inset 1px 1px 0 rgba(0, 0, 0, 0.14),
      inset -1px -1px 0 rgba(53, 100, 198, 0.28);
  }

  .pc98 input:focus,
  .pc98 textarea:focus {
    border-color: var(--pc98-black);
    box-shadow:
      inset 1px 1px 0 rgba(0, 0, 0, 0.14),
      inset -1px -1px 0 rgba(53, 100, 198, 0.28),
      0 0 0 2px rgba(255, 128, 200, 0.9);
  }

  .pc98 .card-base {
    border: 3px solid var(--pc98-black);
    border-radius: 2px;
    padding: 0.84rem;
    background:
      linear-gradient(180deg, rgba(255, 255, 255, 0.68), rgba(255, 255, 255, 0)),
      linear-gradient(140deg, #FFE6F5 0%, #D4E8FF 54%, #E8FCFF 100%);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.95),
      4px 4px 0 var(--pc98-black);
  }

  .pc98 .card-base:hover {
    background:
      linear-gradient(180deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0)),
      linear-gradient(140deg, #FFD7EE 0%, #CAE1FF 54%, #DEFAFF 100%);
  }

  .pc98 .badge {
    border: 2px solid var(--pc98-black);
    border-radius: 2px;
    background: linear-gradient(180deg, #FFB9DF 0%, #FF86C9 100%);
    color: #4B1248;
    font-weight: 700;
    letter-spacing: 0.03em;
    text-transform: uppercase;
  }

  .pc98 [data-radix-popper-content-wrapper] > * {
    border: 3px solid var(--pc98-black);
    border-radius: 2px;
    background:
      linear-gradient(180deg, rgba(255, 255, 255, 0.56), rgba(255, 255, 255, 0)),
      linear-gradient(150deg, #FFE6F5 0%, #D2E8FF 100%);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.92),
      6px 6px 0 var(--pc98-black);
  }

  .pc98 [data-radix-popper-content-wrapper] [role='menuitemradio'][data-highlighted],
  .pc98 [data-radix-popper-content-wrapper] [role='menuitem'][data-highlighted],
  .pc98 [data-radix-popper-content-wrapper] [role='option'][data-highlighted] {
    background: linear-gradient(90deg, #FFD2EB 0%, #BFE9FF 100%);
    color: var(--pc98-black);
  }

  .pc98 .ui-dialog-content {
    border: 3px solid var(--pc98-black);
    border-radius: 2px;
    background:
      linear-gradient(180deg, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0)),
      linear-gradient(150deg, #FFEAF7 0%, #D5E9FF 100%);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.94),
      8px 8px 0 var(--pc98-black);
  }

  .pc98 main {
    position: relative;
    background:
      radial-gradient(circle at 16% 14%, rgba(125, 234, 255, 0.24) 0%, rgba(125, 234, 255, 0) 30%),
      radial-gradient(circle at 80% 18%, rgba(255, 133, 202, 0.24) 0%, rgba(255, 133, 202, 0) 32%),
      linear-gradient(180deg, #1B46AA 0%, #15348E 54%, #172C88 100%);
  }

  .pc98 main::before {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    height: 10px;
    pointer-events: none;
    background:
      repeating-linear-gradient(
        90deg,
        var(--pc98-pink) 0px,
        var(--pc98-pink) 20px,
        var(--pc98-cyan) 20px,
        var(--pc98-cyan) 40px,
        rgba(255, 255, 255, 0.92) 40px,
        rgba(255, 255, 255, 0.92) 44px
      );
    opacity: 0.86;
  }

  .pc98 main > * {
    position: relative;
    z-index: 1;
  }

  /* Sparkle skin retro chrome */
  .sparkle {
    --sparkle-panel-top: #fff4fb;
    --sparkle-panel-bottom: #ffd8ea;
    --sparkle-hard-shadow: rgba(175, 61, 120, 0.28);
    --sparkle-heart: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23f17bb8' d='M12 21s-6.7-4.2-9-8.2C1.1 9.7 2.2 6 5.6 5c2-.6 3.9.2 5 1.8C11.5 5.2 13.4 4.4 15.4 5c3.4 1 4.5 4.7 2.6 7.8-2.3 4-9 8.2-9 8.2z'/%3E%3C/svg%3E");
    --sparkle-star: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23ffd66d' d='M12 2l2.7 5.8L21 8.7l-4.6 4.5 1.1 6.4L12 16.7 6.5 19.6l1.1-6.4L3 8.7l6.3-.9z'/%3E%3C/svg%3E");
    --sparkle-moon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%239fd4ff' d='M16.9 2.8a8.9 8.9 0 105.3 13.9A9.5 9.5 0 0116.9 2.8z'/%3E%3C/svg%3E");
  }

  .sparkle main {
    position: relative;
    overflow: hidden;
    background-image:
      radial-gradient(circle at 34% 24%, rgba(255, 232, 171, 0.28) 0%, rgba(255, 232, 171, 0) 28%),
      radial-gradient(circle at 62% 30%, rgba(169, 235, 255, 0.24) 0%, rgba(169, 235, 255, 0) 30%),
      radial-gradient(circle at 50% 56%, rgba(226, 188, 255, 0.2) 0%, rgba(226, 188, 255, 0) 44%),
      radial-gradient(circle at 100% 0%, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0) 38%),
      repeating-linear-gradient(
        -45deg,
        rgba(255, 255, 255, 0.1) 0px,
        rgba(255, 255, 255, 0.1) 2px,
        rgba(255, 255, 255, 0) 2px,
        rgba(255, 255, 255, 0) 8px
      );
  }

  .sparkle main::before,
  .sparkle main::after {
    content: '';
    position: absolute;
    width: 160px;
    height: 96px;
    pointer-events: none;
    opacity: 0.52;
    z-index: 0;
    background-repeat: no-repeat;
    background-image: var(--sparkle-star), var(--sparkle-heart), var(--sparkle-moon);
    background-size: 16px 16px, 15px 15px, 16px 16px;
  }

  .sparkle main::before {
    left: 12px;
    top: 14px;
    background-position: 8px 6px, 42px 18px, 78px 5px;
  }

  .sparkle main::after {
    right: 20px;
    bottom: 20px;
    background-position: 16px 24px, 62px 8px, 104px 22px;
  }

  .sparkle header {
    position: relative;
    overflow: hidden;
    background:
      linear-gradient(180deg, rgba(255, 255, 255, 0.76) 0%, rgba(255, 255, 255, 0) 34%),
      linear-gradient(180deg, #fff0f8 0%, #ffd7ea 100%);
    border-bottom-color: #ef94be;
    box-shadow:
      inset 0 2px 0 rgba(255, 255, 255, 0.86),
      inset 0 1px 0 rgba(255, 255, 255, 0.9),
      inset 0 -1px 0 rgba(223, 115, 169, 0.28),
      0 1px 0 rgba(255, 255, 255, 0.72);
  }

  .sparkle header::before {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    opacity: 0.44;
    background-image:
      radial-gradient(circle, rgba(255, 255, 255, 0.85) 0 1px, rgba(255, 255, 255, 0) 1.6px),
      radial-gradient(circle, rgba(255, 244, 200, 0.72) 0 1px, rgba(255, 244, 200, 0) 1.8px),
      linear-gradient(
        110deg,
        rgba(255, 183, 225, 0.5) 0%,
        rgba(255, 234, 166, 0.4) 18%,
        rgba(176, 245, 205, 0.38) 36%,
        rgba(178, 227, 255, 0.42) 54%,
        rgba(207, 187, 255, 0.45) 72%,
        rgba(255, 188, 225, 0.42) 100%
      );
    background-size: 28px 28px, 42px 42px, 220% 220%;
    background-position: 0 0, 18px 10px, 0% 50%;
    animation: sparkle-rainbow-drift 14s ease-in-out infinite alternate;
  }

  .sparkle .global-top-header::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: 10px;
    pointer-events: none;
    z-index: 1;
    opacity: 0.68;
    background-image: linear-gradient(
      90deg,
      rgba(255, 184, 228, 0.8) 0%,
      rgba(255, 235, 168, 0.72) 18%,
      rgba(176, 244, 208, 0.72) 36%,
      rgba(173, 224, 255, 0.75) 54%,
      rgba(209, 186, 255, 0.76) 72%,
      rgba(255, 188, 225, 0.78) 100%
    );
    background-size: 220% 100%;
    background-position: 0% 50%;
    animation: sparkle-rainbow-strip-drift 16s linear infinite;
  }

  .sparkle header > * {
    position: relative;
    z-index: 2;
  }

  .sparkle header nav {
    position: relative;
  }

  .sparkle .global-top-header nav::after {
    content: '';
    position: absolute;
    right: -6px;
    top: -10px;
    width: 126px;
    height: 24px;
    pointer-events: none;
    opacity: 0.6;
    background-repeat: no-repeat;
    background-image: var(--sparkle-star), var(--sparkle-heart), var(--sparkle-moon);
    background-size: 12px 12px, 11px 11px, 12px 12px;
    background-position: 10px 6px, 48px 7px, 84px 4px;
    z-index: 3;
  }

  @keyframes sparkle-rainbow-drift {
    0% {
      background-position: 0 0, 18px 10px, 0% 50%;
      opacity: 0.34;
    }
    100% {
      background-position: 10px 6px, 26px 14px, 100% 50%;
      opacity: 0.5;
    }
  }

  @keyframes sparkle-rainbow-strip-drift {
    0% {
      background-position: 0% 50%;
    }
    100% {
      background-position: 100% 50%;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .sparkle header::before,
    .sparkle .global-top-header::after {
      animation: none;
    }
  }

  .sparkle nav a {
    border: 1px solid #f1a5cb;
    border-radius: 999px;
    background:
      linear-gradient(180deg, rgba(255, 255, 255, 0.62), rgba(255, 255, 255, 0)),
      linear-gradient(180deg, #fff5fb, #ffe2ef);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.92),
      inset 0 -1px 0 rgba(220, 103, 164, 0.22);
  }

  .sparkle nav a:hover {
    border-color: #e077b0;
    background:
      linear-gradient(180deg, rgba(255, 255, 255, 0.52), rgba(255, 255, 255, 0)),
      linear-gradient(180deg, #fff8fd, #ffdcec);
  }

  .sparkle nav a.bg-primary\/10 {
    border-color: #da6ea8;
    background:
      linear-gradient(180deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0)),
      linear-gradient(135deg, rgba(255, 206, 231, 0.86), rgba(217, 239, 255, 0.78));
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.95),
      inset 0 -1px 0 rgba(212, 91, 154, 0.3);
  }

  .sparkle button,
  .sparkle [role='button'],
  .sparkle [role='combobox'],
  .sparkle input,
  .sparkle textarea {
    border-color: #e98ab7;
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.95),
      inset 0 -1px 0 rgba(221, 103, 163, 0.24),
      0 1px 0 rgba(255, 255, 255, 0.7);
  }

  .sparkle button:not([class*='bg-']),
  .sparkle [role='button']:not([class*='bg-']),
  .sparkle [role='combobox']:not([class*='bg-']) {
    background:
      linear-gradient(180deg, rgba(255, 255, 255, 0.72), rgba(255, 255, 255, 0)),
      linear-gradient(180deg, var(--sparkle-panel-top), var(--sparkle-panel-bottom));
  }

  .sparkle button:not([class*='bg-']):hover,
  .sparkle [role='button']:not([class*='bg-']):hover,
  .sparkle [role='combobox']:not([class*='bg-']):hover {
    background-image:
      linear-gradient(180deg, rgba(255, 255, 255, 0.36), rgba(255, 255, 255, 0)),
      linear-gradient(180deg, #fff8fd, #ffd9ea);
    border-color: #df6ca8;
  }

  .sparkle button:not([class*='bg-']):active,
  .sparkle [role='button']:not([class*='bg-']):active,
  .sparkle [role='combobox']:not([class*='bg-'])[data-state='open'] {
    box-shadow:
      inset 0 2px 4px rgba(168, 55, 114, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.6);
    transform: none;
  }

  .sparkle input,
  .sparkle textarea {
    background:
      linear-gradient(180deg, rgba(255, 255, 255, 0.72), rgba(255, 255, 255, 0)),
      linear-gradient(180deg, #fffafc, #ffe8f2);
  }

  .sparkle .card-base {
    border-color: #ea9bc1;
    background-image:
      linear-gradient(180deg, rgba(255, 255, 255, 0.42), rgba(255, 255, 255, 0)),
      linear-gradient(135deg, rgba(255, 194, 225, 0.32), rgba(255, 240, 248, 0.26));
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.95),
      inset 0 -1px 0 rgba(221, 103, 163, 0.2),
      0 3px 10px rgba(201, 77, 145, 0.15);
    position: relative;
  }

  .sparkle .card-base::before {
    content: '';
    position: absolute;
    top: 6px;
    left: 8px;
    width: 42px;
    height: 14px;
    pointer-events: none;
    opacity: 0.4;
    background-repeat: no-repeat;
    background-image: var(--sparkle-star), var(--sparkle-heart), var(--sparkle-moon);
    background-size: 8px 8px, 8px 8px, 8px 8px;
    background-position: 0 3px, 15px 4px, 30px 2px;
  }

  .sparkle .card-base::after {
    content: '';
    position: absolute;
    top: 1px;
    right: 8px;
    width: 24px;
    height: 10px;
    border-radius: 99px;
    background: linear-gradient(90deg, rgba(255, 255, 255, 0.75), rgba(255, 255, 255, 0));
    pointer-events: none;
  }

  .sparkle .badge {
    border: 1px solid #eca3c8;
    background: linear-gradient(180deg, #fff5fb 0%, #ffdfee 100%);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.95);
  }

  .sparkle [data-radix-popper-content-wrapper] > * {
    border-color: #e88fba;
    background-image:
      linear-gradient(180deg, rgba(255, 255, 255, 0.48), rgba(255, 255, 255, 0)),
      linear-gradient(145deg, #ffe7f3, #ffd5e8);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.95),
      0 10px 24px rgba(190, 69, 133, 0.2);
  }

  .sparkle [data-radix-popper-content-wrapper] [role='menuitemradio'][data-highlighted],
  .sparkle [data-radix-popper-content-wrapper] [role='menuitem'][data-highlighted],
  .sparkle [data-radix-popper-content-wrapper] [role='option'][data-highlighted] {
    background: linear-gradient(90deg, rgba(255, 203, 227, 0.78), rgba(221, 241, 255, 0.72));
    color: #5a2140;
  }

  .sparkle .ui-dialog-content {
    border-color: #e889b7;
    background-image:
      linear-gradient(180deg, rgba(255, 255, 255, 0.44), rgba(255, 255, 255, 0)),
      linear-gradient(145deg, #ffebf5, #ffd9eb);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.95),
      0 22px 46px rgba(181, 62, 125, 0.25);
  }

  .sparkle .sparkle-icon-chip {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 18px;
    height: 18px;
    border-radius: 5px;
    border: 1px solid #dc6aa7;
    background:
      linear-gradient(180deg, rgba(255, 255, 255, 0.72), rgba(255, 255, 255, 0)),
      linear-gradient(140deg, #ffc3df, #d6ecff 52%, #fff2b8);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.95),
      0 1px 2px var(--sparkle-hard-shadow);
  }

  .sparkle .sparkle-icon-glyph {
    color: #7b2a54;
    stroke-width: 2.2;
    filter: drop-shadow(0 1px 0 rgba(255, 255, 255, 0.55));
  }

  .sparkle button .sparkle-icon-glyph,
  .sparkle [role='button'] .sparkle-icon-glyph {
    color: #6f1f49;
  }

  /* ── Skin background image ── */
  .skin-bg {
    position: relative;
    background-color: var(--skin-bg-page-color);
  }

  .skin-bg::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: var(--skin-bg);
    background-size: cover;
    background-position: var(--skin-bg-pos);
    background-repeat: no-repeat;
    pointer-events: none;
    z-index: -2;
  }

  .skin-bg::after {
    content: '';
    position: fixed;
    inset: 0;
    background: var(--skin-bg-overlay);
    pointer-events: none;
    z-index: -1;
  }

  /* Card base styles */
  .card-base {
    @apply bg-surface border border-border-subtle rounded-card p-card;
    @apply cursor-pointer transition-colors duration-micro;
    @apply hover:bg-surface-hover;
  }

  .card-task {
    @apply card-base border-l-[3px] border-l-card-task;
  }

  .card-story {
    @apply card-base border-l-[3px] border-l-card-story;
  }

  .card-epic {
    @apply card-base border-l-[3px] border-l-card-epic;
  }

  .card-utility {
    @apply card-base border-l-[3px] border-l-card-utility;
  }

  /* Progress bar */
  .progress-bar {
    @apply h-1 bg-border rounded-sm overflow-hidden;
  }

  .progress-bar-fill {
    @apply h-full rounded-sm transition-all duration-complex;
  }

  /* Badge base */
  .badge {
    @apply inline-flex items-center gap-1 px-1.5 py-0.5;
    @apply bg-surface-raised rounded text-caption;
  }

  /* Focus styles */
  .focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-text-primary focus-visible:ring-offset-2;
  }
}

@layer utilities {
  /* Truncate text */
  .truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}
